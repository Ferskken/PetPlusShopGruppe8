<ng-container [ngSwitch]="stepperOrientation | async">
  <div *ngSwitchCase="'horizontal'">Make your screen smaller to see a vertical stepper</div>
  <div *ngSwitchCase="'vertical'">Make your screen larger to see a horizontal stepper</div>
</ng-container>

<mat-stepper
  class="example-stepper"
  [orientation]="(stepperOrientation | async)!">
  <mat-step [stepControl]="form" label="Fill out your name">
    <form [formGroup]="form">
      <mat-form-field appearance="fill">
        <mat-label>Name</mat-label>
        <input matInput placeholder="Last name, First name" [(ngModel)]="formData.name" formControlName="name" required>
      </mat-form-field>
      <div class="pt-5">
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="form" label="Fill out your email">
    <form [formGroup]="form">
      <mat-form-field class="w-100">
        <input matInput placeholder="Email"[(ngModel)]="formData.email" formControlName="email" type="email" required>
        <mat-error *ngIf="form.controls['email'].invalid">Email is required</mat-error>
        <mat-error *ngIf="form.controls['email'].errors?.['email']">Please enter a valid email</mat-error> 
      </mat-form-field>
      <div class="pt-5">
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="form" label="Fill out your password">
    <form [formGroup]="form">
      <mat-form-field class="w-50">
        <input matInput placeholder="Password"[(ngModel)]="formData.password" formControlName="password" name="password" type="password" required>
        <mat-error *ngIf="form.controls['password'].invalid">Password is required</mat-error>
        <mat-error *ngIf="form.controls['password'].errors?.['minlength']">Password must be at least 6 characters long</mat-error>  
      </mat-form-field>
      <div class="pt-5">
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Done</ng-template>
    <p>You are now done.</p>
    <div>
      <p>Name: {{ name }}</p>
      <p>Email: {{ email }}</p>
      <p>Password: {{ password }}</p>
    </div>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="saveData()">Submit</button>
    </div>
  </mat-step>
</mat-stepper>
